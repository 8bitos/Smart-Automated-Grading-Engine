Struktur Proyek: Sistem Penilaian Esai Otomatis (SAGE)
=====================================================

File ini menjelaskan struktur direktori dan fungsi dari setiap komponen utama dalam proyek ini, termasuk semua file yang telah dibuat hingga saat ini.

.
├── backend/
│   ├── db/
│   │   └── migration/
│   │       ├── 000001_init_schema.up.sql
│   │       ├── 000001_init_schema.down.sql
│   │       ├── 000002_add_superadmin_role.up.sql
│   │       ├── 000002_add_superadmin_role.down.sql
│   │       ├── 000003_add_username_to_users.up.sql
│   │       └── 000003_add_username_to_users.down.sql
│   ├── go.mod
│   ├── go.sum
│   └── main.go
├── frontend/
│   └── src/
│       ├── app/
│       │   ├── admin/
│       │   │   └── teachers/
│       │   │       └── page.tsx
│       │   ├── login/
│       │   │   └── page.tsx
│       │   ├── register/
│       │   │   └── page.tsx
│       │   ├── globals.css
│       │   ├── layout.tsx
│       │   └── page.tsx
│       ├── components/
│       │   └── AdminRouteGuard.tsx
│       └── contexts/
│           └── AuthContext.tsx
├── .gitignore
├── docker-compose.yml
├── database.json
├── database.txt
└── Struktur.txt (File ini)

---
### PENJELASAN DETAIL
---

## DIREKTORI /backend/

### `main.go`
- **Fungsi:** Aplikasi backend utama (server). Menangani semua logika API, koneksi database, dan routing.
- **Isi Penting:**
  - **Koneksi Database:** Terhubung ke PostgreSQL saat startup.
  - **Routing:** Menggunakan `gorilla/mux` untuk mendefinisikan rute publik (login, register) dan rute privat (admin).
  - **Handlers:** Fungsi yang menangani request, seperti `loginHandler`, `registerHandler`, `createTeacherHandler`, `getTeachersHandler`, dan `deleteTeacherHandler`.
  - **Middleware:** Logika perantara untuk keamanan. `jwtMiddleware` memvalidasi token, dan `adminRequired` memastikan hanya `superadmin` yang bisa mengakses rute admin.

### `go.mod` / `go.sum`
- **Fungsi:** Mengelola dependensi (library eksternal) untuk proyek Go, seperti driver database, router, dll.

### `/backend/db/migration/`
- **Fungsi:** Folder ini berisi "jejak langkah" perubahan skema database. Sangat penting untuk menjaga konsistensi database di lingkungan yang berbeda.
- **Isi Penting:**
  - `000001_init_schema.up.sql`: Membuat semua tabel awal (users, classes, dll).
  - `000002_add_superadmin_role.up.sql`: Menambahkan peran 'superadmin' ke sistem.
  - `000003_add_username_to_users.up.sql`: Menambahkan kolom 'username' yang unik ke tabel `users`.
  - `*.down.sql`: Berisi perintah untuk membatalkan (rollback) perubahan dari file `up.sql` yang berpasangan.

---
## DIREKTORI /frontend/

### `/frontend/src/app/`
- **Fungsi:** Direktori utama untuk aplikasi frontend Next.js yang menggunakan App Router. Setiap folder di sini mewakili sebuah rute/URL.

#### `/page.tsx` (Halaman Utama)
- **Fungsi:** Halaman pertama yang dilihat pengguna. Menampilkan navigasi kondisional: `Login` & `Register` jika belum login, atau `Logout` & `Admin Dashboard` (jika perannya `superadmin`) jika sudah login.

#### `/login/page.tsx` (Halaman Login)
- **Fungsi:** Berisi form untuk login. Pengguna bisa masuk menggunakan email atau username.
- **Fitur:** Tombol hide/show password, UI modern, dan terhubung ke `AuthContext`.

#### `/register/page.tsx` (Halaman Registrasi)
- **Fungsi:** Berisi form untuk registrasi pengguna baru.
- **Logika:** Setiap pendaftaran dari sini akan otomatis mendapatkan peran 'student'. Membutuhkan input username unik selain email.

#### `/admin/teachers/page.tsx` (Halaman Admin Guru)
- **Fungsi:** Dashboard khusus untuk `superadmin` mengelola data guru.
- **Fitur:** Menampilkan daftar guru, form untuk menambah guru baru, dan tombol untuk menghapus guru.
- **Keamanan:** Dibungkus dan dilindungi oleh komponen `AdminRouteGuard`.

### `/frontend/src/components/`

#### `AdminRouteGuard.tsx`
- **Fungsi:** Komponen "penjaga" yang membungkus halaman privat (seperti halaman admin). Ia memeriksa apakah pengguna yang sedang login adalah `superadmin`. Jika bukan, pengguna akan dialihkan ke halaman utama.

### `/frontend/src/contexts/`

#### `AuthContext.tsx`
- **Fungsi:** Pusat data otentikasi global untuk aplikasi frontend. Menyimpan data pengguna yang sedang login (ID, peran) dan token JWT.
- **Fitur:** Menyediakan `useAuth` hook yang bisa digunakan oleh komponen manapun untuk mengakses data login, atau fungsi `login()` dan `logout()`.

---
## FILE-FILE DI ROOT PROYEK

#### `docker-compose.yml`
- **Fungsi:** Mengelola semua layanan pendukung (PostgreSQL, Redis, Elasticsearch) dalam container Docker, memastikan lingkungan pengembangan yang konsisten.

#### `database.json` & `database.txt`
- **Fungsi:** Berfungsi sebagai "blueprint" dan dokumentasi untuk skema database. `database.json` adalah versi terstruktur yang digunakan untuk membuat file migrasi SQL.

#### `.gitignore` & `Struktur.txt`
- **Fungsi:** File utilitas untuk version control (Git) dan dokumentasi struktur proyek (file ini).